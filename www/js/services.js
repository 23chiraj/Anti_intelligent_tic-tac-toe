angular.module('starter.service',[])

.service('twogame',function($interval){
        
    this.startgame = function($scope){
         $scope.game = 1;
         $scope.number = 1;
         $scope.player1 = 0;
         $scope.player2 = 0;
         $scope.turn = 1;
         $scope.arr = [];
         $scope.chararr = ['','','','','','','','',''];
         $scope.colorarr = [0,0,0,0,0,0,0,0,0];
         $scope.moves = 0;
         $scope.gameOn = 1;
         $scope.startTime();
    };
    
    
    this.reinitialise = function($scope){
        
        if($scope.game)
         $scope.game = 0;
        else
          $scope.game = 1;
        
         $scope.number++;
        
        if($scope.number === 3 || $scope.number === 4 )
           $scope.turn = 1;
        else
           $scope.turn = 0;
        
         $scope.arr = [];
         $scope.chararr = ['','','','','','','','',''];
         $scope.colorarr = [0,0,0,0,0,0,0,0,0];
         $scope.moves = 0;
         $scope.gameOn = 1;
         $scope.startTime();
    };
    
this.check = function($scope){

    var B = [],C,interval = null;
        
function containsAll(checkfor,checkarr){ 
  for(var i = 0 , len = checkfor.length; i < len; i++){
     if(checkarr.indexOf(checkfor[i]) == -1) return false;
  }
  return true;
}
    
    function arrReturn(B){
        if(containsAll([1,2,0],B))
            return [0,1,2];
        else if(containsAll([3,4,5],B))
            return [3,4,5];
        else if(containsAll([6,7,8],B))
            return [6,7,8];
        else if(containsAll([0,3,6],B))
            return [0,3,6];
        else if(containsAll([1,4,7],B))
            return [1,4,7];
        else if(containsAll([2,5,8],B))
            return [2,5,8];
        else if(containsAll([2,4,6],B))
            return [2,4,6];
        else if(containsAll([0,4,8],B))
            return [0,4,8];
        
        else
            return 0;
    }
 
    if($scope.arr.length === 5){
        
        B[0] = $scope.arr[0];
        B[1] = $scope.arr[2];
        B[2] = $scope.arr[4];
    
     return arrReturn(B);
    }    
        
    else if($scope.arr.length === 6){
        
        B[0] = $scope.arr[1];
        B[1] = $scope.arr[3];
        B[2] = $scope.arr[5];

     return arrReturn(B);
    }
    
    else if($scope.arr.length === 7){
        
        B[0] = $scope.arr[0];
        B[1] = $scope.arr[2];
        B[2] = $scope.arr[4];
        B[3] = $scope.arr[6];
 
     return arrReturn(B);
    }
    
    else if($scope.arr.length === 8){
        
        B[0] = $scope.arr[1];
        B[1] = $scope.arr[3];
        B[2] = $scope.arr[5];
        B[3] = $scope.arr[7];
        
     return arrReturn(B);
    }
    
    
    else if($scope.arr.length === 9){
        
        B[0] = $scope.arr[0];
        B[1] = $scope.arr[2];
        B[2] = $scope.arr[4];
        B[3] = $scope.arr[6];
        B[4] = $scope.arr[8];

     return arrReturn(B);
    }  
    
    };
    
})

.service('pcgame',function($interval){
    
    var self = this;
    
    this.norcpu = ['5132746','5132764','5132784','5132794','5134726','5134762','5134782','5134792','5136724','5136742','5136782','5136792','5137426','5137462','5137486','5137496','5138724','5138742','5138762','5138792','5139724','5139742','5139762','5139782','5213946','5213964','5213974','5213984','5214936','5214963','5214973','5214983','5216934','5216943','5216973','5216983','5217934','5217943','5217963','5217983','5218734','5218743','5218763','5218793','5219734','5219743','5219763','5219783','5312946','5312964','5312974','5312984','5314926','5314962','5314972','5314982','5316924','5316942','5316972','5316982','5317924','5317942','5317962','5317982','5318924','5318942','5318962','5318972','5319624','5319642','5319674','5319684','5412936','5412963','5412973','5412983','5413926','5413962','5413972','5413982','5416327','5416372','5416382','5416392','5417923','5417932','5417962','5417982','5418923','5418932','5418962','5418972','5419327','5419362','5419372','5419382','5631724','5631742','5631782','5631792','5632714','5632741','5632781','5632791','5634127','5634172','5634182','5634192','5637129','5637142','5637182','5637192','5638712','5638721','5638741','5638791','5639712','5639721','5639741','5639781','5712934','5712943','5712963','5712983','5713924','5713942','5713962','5713982','5714923','5714932','5714962','5714982','5716923','5716932','5716942','5716982','5718923','5718932','5718942','5718962','5719824','5719832','5719842','5719862','5871324','5871342','5871362','5871392','5872134','5872143','5872163','5872193','5873124','5873149','5873164','5873194','5874312','5874321','5874361','5874391','5876312','5876321','5876341','5876391','5879312','5879321','5879341','5879361','5931724','5931742','5931762','5931782','5932714','5932741','5932761','5932781','5934712','5934721','5934761','5934781','5936712','5936721','5936741','5936781','5937812','5937824','5937842','5937862','5938712','5938721','5938741','5938761'];
    
    this.noryou = ['15234769','15234789','15234798','15236749','15236789','15236798','15237469','15237489','15237498','15238947','15238967','15238976','15239748','15239768','15239786','15324869','15324879','15324897','15326948','15326978','15326987','15327849','15327869','15327896','15328947','15328967','15328974','15329847','15329867','15329876','15472369','15472389','15472398','15473269','15473289','15473298','15476928','15476938','15476983','15478329','15478369','15478396','15479328','15479368','15479386','15632749','15632789','15632798','15634729','15634789','15634798','15637429','15637489','15637498','15638729','15638749','15638794','15639827','15639847','15639874','15742639','15742689','15742698','15743629','15743689','15743698','15746923','15746932','15746983','15748926','15748936','15748963','15749826','15749836','15749863','15872349','15872369','15872396','15873249','15873269','15873296','15874329','15874369','15874396','15876329','15876349','15876394','15879624','15879634','15879643','15972348','15972368','15972386','15973628','15973642','15973684','15974328','15974368','15974386','15976328','15976348','15976384','15978624','15978634','15978643','25134769','25134789','25134798','25136749','25136789','25136798','25137469','25137489','25137498','25138947','25138967','25138976','25139748','25139768','25139786','25314968','25314978','25314987','25316948','25316978','25316987','25317948','25317968','25317986','25318947','25318967','25318976','25319648','25319678','25319687','25413968','25413978','25413987','25416938','25416978','25416987','25417938','25417968','25417986','25418937','25418967','25418976','25419836','25419863','25419876','25631749','25631789','25631798','25634719','25634789','25634798','25637914','25637941','25637984','25638917','25638947','25638974','25639817','25639847','25639874','25713948','25713968','25713986','25714938','25714968','25714986','25716938','25716948','25716984','25718936','25718946','25718964','25719836','25719846','25719863','25891347','25891367','25891376','25893147','25893167','25893176','25894317','25894367','25894376','25896317','25896347','25896374','25897614','25897634','25897643','25931748','25931768','25931786','25934718','25934768','25934786','25936817','25936847','25936874','25937814','25937841','25937864','25938716','25938746','25938764','35124869','35124879','35124897','35126948','35126978','35126987','35127849','35127869','35127896','35128947','35128967','35128974','35129847','35129867','35129876','35214968','35214978','35214987','35216948','35216978','35216987','35217948','35217968','35217986','35218947','35218967','35218976','35219648','35219678','35219687','35412968','35412978','35412987','35416928','35416978','35416987','35417928','35417968','35417986','35418927','35418967','35418976','35419628','35419678','35419687','35691248','35691278','35691287','35692148','35692178','35692187','35694817','35694827','35694872','35697218','35697248','35697284','35698217','35698247','35698274','35791428','35791462','35791486','35792148','35792168','35792186','35794128','35794168','35794186','35796218','35796248','35796284','35798416','35798426','35798462','35891247','35891267','35891274','35892147','35892167','35892176','35894127','35894167','35894176','35896217','35896247','35896274','35897416','35897426','35897462','35961428','35961478','35961487','35962418','35962478','35962487','35964812','35964821','35964872','35967814','35967824','35967842','35968714','35968724','35968742','45172369','45172389','45172398','45173269','45173289','45173298','45176928','45176938','45176983','45178329','45178369','45178396','45179328','45179368','45179386','45213968','45213978','45213987','45216938','45216978','45216987','45217938','45217968','45217986','45218937','45218967','45218976','45219836','45219863','45219876','45312968','45312978','45312987','45316928','45316978','45316987','45317928','45317968','45317986','45318927','45318967','45318976','45319628','45319678','45319687','45691728','45691738','45691783','45692718','45692738','45692783','45693817','45693827','45693872','45697128','45697138','45697183','45698713','45698723','45698732','45712938','45712968','45712986','45713928','45713968','45713986','45716928','45716938','45716983','45718926','45718936','45718963','45719826','45719836','45719863','45871329','45871369','45871396','45872319','45872369','45872396','45873912','45873921','45873962','45876913','45876923','45876932','45879613','45879623','45879632','45971328','45971368','45971386','45972318','45972368','45972386','45973612','45973621','45973682','45976318','45976328','45976382','45978613','45978623','45978632','59172836','59172846','59172864','59173826','59173846','59173864','59174826','59174836','59174863','59176824','59176834','59176843','59178236','59178246','59178264','59281736','59281746','59281764','59283716','59283746','59283764','59284716','59284736','59284763','59286714','59286734','59286743','59287316','59287346','59287364','59371826','59371846','59371864','59372816','59372846','59372864','59374816','59374826','59374862','59376814','59376824','59376842','59378216','59378246','59378264','59461728','59461738','59461783','59462318','59462378','59462387','59463718','59463728','59463782','59467318','59467328','59467382','59468317','59468327','59468372','59641827','59641837','59641873','59642817','59642837','59642873','59643718','59643728','59643782','59647318','59647328','59647382','59648217','59648237','59648273','59731628','59731648','59731684','59732618','59732648','59732684','59734618','59734628','59734682','59736418','59736428','59736482','59738614','59738624','59738642','59821736','59821746','59821764','59823716','59823746','59823764','59824617','59824637','59824673','59826417','59826437','59826473','59827316','59827346','59827364','65132749','65132789','65132798','65134729','65134789','65134798','65137429','65137489','65137498','65138729','65138749','65138794','65139827','65139847','65139874','65231749','65231789','65231798','65234719','65234789','65234798','65237914','65237941','65237984','65238917','65238947','65238974','65239817','65239847','65239874','65391248','65391278','65391287','65392148','65392178','65392187','65394817','65394827','65394872','65397218','65397248','65397284','65398217','65398247','65398274','65491728','65491738','65491783','65492718','65492738','65492783','65493817','65493827','65493872','65497128','65497138','65497183','65498713','65498723','65498732','65791423','65791432','65791483','65792138','65792148','65792184','65793218','65793248','65793284','65794128','65794138','65794183','65798413','65798423','65798432','65891723','65891732','65891743','65892317','65892347','65892374','65893217','65893247','65893274','65894713','65894723','65894732','65897413','65897423','65897432','65931827','65931847','65931874','65932817','65932847','65932874','65934817','65934827','65934872','65937814','65937824','65937842','65938714','65938724','65938742','75142639','75142689','75142698','75143629','75143689','75143698','75146923','75146932','75146983','75148926','75148936','75148963','75149826','75149836','75149863','75213948','75213968','75213986','75214938','75214968','75214986','75216938','75216948','75216984','75218936','75218946','75218964','75219836','75219846','75219863','75391428','75391462','75391486','75392148','75392168','75392186','75394128','75394168','75394186','75396218','75396248','75396284','75398416','75398426','75398462','75412938','75412968','75412986','75413928','75413968','75413986','75416928','75416938','75416983','75418926','75418936','75418963','75419826','75419836','75419863','75691423','75691432','75691483','75692138','75692148','75692184','75693218','75693248','75693284','75694128','75694138','75694183','75698413','75698423','75698432','75891426','75891436','75891463','75892614','75892634','75892643','75893416','75893426','75893462','75894126','75894136','75894163','75896413','75896423','75896432','75981426','75981436','75981463','75982614','75982634','75982641','75983614','75983624','75983642','75984216','75984236','75984263','75986314','75986324','75986342','85172349','85172369','85172396','85173249','85173269','85173296','85174329','85174369','85174396','85176329','85176349','85176394','85179624','85179634','85179643','85291347','85291367','85291376','85293147','85293167','85293176','85294317','85294367','85294376','85296317','85296347','85296374','85297614','85297634','85297643','85391247','85391267','85391274','85392147','85392167','85392176','85394127','85394167','85394176','85396217','85396247','85396274','85397416','85397426','85397462','85471329','85471369','85471396','85472319','85472369','85472396','85473912','85473921','85473962','85476913','85476923','85476932','85479613','85479623','85479632','85691723','85691732','85691743','85692317','85692347','85692374','85693217','85693247','85693274','85694713','85694723','85694732','85697413','85697423','85697432','85791426','85791436','85791463','85792614','85792634','85792643','85793416','85793426','85793462','85794126','85794136','85794163','85796413','85796423','85796432','85971624','85971634','85971643','85972614','85972634','85972643','85973614','85973624','85973642','85974613','85974623','85974632','85976314','85976324','85976342','95172348','95172368','95172386','95173628','95173642','95173684','95174328','95174368','95174386','95176328','95176348','95176384','95178624','95178634','95178643','95231748','95231768','95231786','95234718','95234768','95234786','95236817','95236847','95236874','95237814','95237841','95237864','95238716','95238746','95238764','95361428','95361478','95361487','95362418','95362478','95362487','95364812','95364821','95364872','95367814','95367824','95367842','95368714','95368724','95368742','95471328','95471368','95471386','95472318','95472368','95472386','95473612','95473621','95473682','95476318','95476328','95476382','95478613','95478623','95478632','95631827','95631847','95631874','95632817','95632847','95632874','95634817','95634827','95634872','95637814','95637824','95637842','95638714','95638724','95638742','95781426','95781436','95781463','95782614','95782634','95782641','95783614','95783624','95783642','95784216','95784236','95784263','95786314','95786324','95786342','95871624','95871634','95871643','95872614','95872634','95872643','95873614','95873624','95873642','95874613','95874623','95874632','95876314','95876324','95876342'];
    
    this.antiyou = ['14283957','14283967','14283976','14285639','14285679','14285697','14286739','14286753','14286795','14287936','14287956','14287965','14289736','14289756','14289765','14372958','14372968','14372986','14375629','14375689','14375698','14376529','14376589','14376598','14378926','14378956','14378965','14379826','14379856','14379865','14562839','14562879','14562897','14563928','14563978','14563987','14567829','14567839','14567893','14568729','14568739','14568793','14569827','14569837','14569873','14672938','14672953','14672985','14673529','14673589','14673598','14675329','14675389','14675398','14678925','14678935','14678953','14679825','14679835','14679853','14782936','14782956','14782965','14783926','14783956','14783965','14785629','14785639','14785693','14786925','14786935','14786952','14789326','14789356','14789362','14872936','14872956','14872965','14873926','14873956','14873965','14875629','14875639','14875693','14876925','14876935','14876953','14879236','14879256','14879265','14923758','14923768','14923786','14925837','14925867','14925876','14926738','14926758','14926785','14927358','14927368','14927386','14928736','14928756','14928765','28163947','28163957','28163975','28164539','28164579','28164597','28165439','28165479','28165497','28167935','28167945','28167954','28169735','28169745','28169754','28341957','28341967','28341976','28345619','28345679','28345697','28346519','28346579','28346597','28347916','28347956','28347965','28349716','28349756','28349765','28461539','28461579','28461597','28463917','28463951','28463975','28465139','28465179','28465197','28467915','28467935','28467951','28469715','28469735','28469753','28561439','28561479','28561497','28563419','28563479','28563497','28564139','28564179','28564197','28567419','28567439','28567493','28569417','28569437','28569473','28641739','28641753','28641795','28643519','28643579','28643597','28645317','28645379','28645397','28647915','28647935','28647951','28649715','28649735','28649753','28791536','28791546','28791564','28793615','28793645','28793654','28794615','28794635','28794651','28795136','28795146','28795164','28796415','28796435','28796451','28971635','28971645','28971654','28973516','28973546','28973564','28974615','28974635','28974653','28975316','28975346','28975364','28976415','28976435','28976453','36192847','36192857','36192875','36194528','36194578','36194587','36195428','36195478','36195487','36197825','36197845','36197854','36198725','36198745','36198754','36291847','36291857','36291875','36294817','36294851','36294875','36295418','36295478','36295487','36297815','36297845','36297854','36298715','36298745','36298754','36491528','36491578','36491587','36492817','36492851','36492875','36495128','36495178','36495187','36497815','36497825','36497852','36498715','36498725','36498751','36541928','36541978','36541987','36542918','36542978','36542987','36547918','36547928','36547982','36548917','36548927','36548972','36549817','36549827','36549872','36721948','36721958','36721985','36724918','36724958','36724985','36725918','36725948','36725984','36728915','36728945','36728954','36729148','36729158','36729185','36891725','36891745','36891754','36892715','36892745','36892754','36894715','36894725','36894751','36895417','36895427','36895472','36897215','36897245','36897254','36981725','36981745','36981754','36982715','36982745','36982754','36984715','36984725','36984752','36985417','36985427','36985472','36987124','36987142','36987154','46182539','46182579','46182597','46183927','46183952','46183975','46185239','46185279','46185297','46187925','46187935','46187953','46189725','46189735','46189753','46281539','46281579','46281597','46283917','46283951','46283975','46285139','46285179','46285197','46287915','46287935','46287951','46289715','46289735','46289753','46391528','46391578','46391587','46392817','46392851','46392875','46395128','46395178','46395187','46397815','46397825','46397852','46398715','46398725','46398751','46581239','46581279','46581297','46582139','46582179','46582197','46583219','46583279','46583297','46587219','46587239','46587293','46589217','46589237','46589273','46721938','46721958','46721985','46723918','46723958','46723985','46725819','46725839','46725893','46728519','46728539','46728593','46729815','46729831','46729853','46821539','46821579','46821593','46823915','46823951','46823975','46825713','46825739','46825793','46827519','46827539','46827593','46829513','46829531','46829573','46981725','46981735','46981753','46982715','46982735','46982753','46983715','46983725','46983752','46985217','46985237','46985273','46987315','46987325','46987352','58123649','58123679','58123697','58124639','58124679','58124697','58126439','58126479','58126497','58127936','58127946','58127964','58129736','58129746','58129764','58261439','58261479','58261497','58263419','58263479','58263497','58264139','58264179','58264197','58267419','58267439','58267493','58269417','58269437','58269473','58321649','58321679','58321697','58324619','58324679','58324697','58326419','58326479','58326497','58327916','58327946','58327964','58329716','58329746','58329764','58421639','58421679','58421697','58423619','58423679','58423697','58426917','58426937','58426973','58427916','58427936','58427963','58429716','58429736','58429763','58621439','58621479','58621497','58623419','58623479','58623497','58624917','58624937','58624973','58627914','58627934','58627943','58629714','58629734','58629743','58721936','58721946','58721964','58723916','58723946','58723964','58724916','58724936','58724963','58726914','58726934','58726943','58729614','58729634','58729643','58921736','58921746','58921764','58923716','58923746','58923764','58924716','58924736','58924763','58926714','58926734','58926743','58927614','58927634','58927643','64172938','64172953','64172985','64173529','64173589','64173598','64175329','64175389','64175398','64178925','64178935','64178953','64179825','64179835','64179853','64281739','64281753','64281795','64283519','64283579','64283597','64285317','64285379','64285397','64287915','64287935','64287951','64289715','64289735','64289753','64381927','64381952','64381975','64382519','64382579','64382597','64385219','64385279','64385297','64387915','64387925','64387952','64389715','64389725','64389752','64581239','64581279','64581297','64582317','64582379','64582397','64583219','64583279','64583297','64587219','64587239','64587293','64589217','64589237','64589273','64781925','64781935','64781952','64782915','64782935','64782951','64783915','64783925','64783952','64785219','64785239','64785293','64789213','64789235','64789253','64821735','64821753','64821795','64823517','64823571','64823597','64825917','64825931','64825971','64827513','64827531','64827593','64829517','64829537','64829573','64921738','64921758','64921785','64923817','64923857','64923875','64925817','64925837','64925873','64927813','64927835','64927853','64928517','64928537','64928573','78192536','78192546','78192564','78193625','78193645','78193654','78194625','78194635','78194653','78195236','78195246','78195264','78196524','78196534','78196543','78291536','78291546','78291564','78293615','78293645','78293654','78294615','78294635','78294651','78295136','78295146','78295164','78296415','78296435','78296451','78341926','78341956','78341965','78342916','78342956','78342965','78345916','78345926','78345962','78346915','78346925','78346952','78349126','78349156','78349165','78491625','78491635','78491653','78492615','78492635','78492651','78493615','78493625','78493652','78495216','78495236','78495263','78496315','78496325','78496352','78521936','78521946','78521964','78523916','78523946','78523964','78524916','78524936','78524963','78526914','78526934','78526943','78529614','78529634','78529643','78691524','78691534','78691543','78692415','78692435','78692451','78693415','78693425','78693452','78694315','78694325','78694352','78695214','78695234','78695243','78961325','78961345','78961354','78962315','78962345','78962354','78963124','78963142','78963154','78964315','78964325','78964352','78965413','78965423','78965432','82143756','82143765','82143796','82145639','82145679','82145697','82146735','82146753','82146795','82147639','82147659','82147695','82149736','82149756','82149765','82361945','82361954','82361975','82364915','82364951','82364975','82365419','82365479','82365497','82367915','82367945','82367954','82369417','82369457','82369475','82461539','82461579','82461593','82463915','82463951','82463975','82465713','82465739','82465793','82467519','82467539','82467593','82469513','82469531','82469573','82561439','82561479','82561497','82563419','82563479','82563497','82564713','82564739','82564793','82567419','82567439','82567493','82569417','82569437','82569473','82641735','82641753','82641795','82643517','82643571','82643597','82645917','82645931','82645971','82647513','82647531','82647593','82649517','82649537','82649573','82761935','82761945','82761954','82763915','82763945','82763954','82764519','82764539','82764593','82765419','82765439','82765493','82769514','82769534','82769543','82941736','82941756','82941765','82943716','82943756','82943765','82945617','82945637','82945673','82946517','82946537','82946573','82947615','82947635','82947653','98162735','98162745','98162754','98163725','98163745','98163754','98164725','98164735','98164753','98165724','98165734','98165743','98167325','98167345','98167354','98271635','98271645','98271654','98273516','98273546','98273564','98274615','98274635','98274653','98275316','98275346','98275364','98276415','98276435','98276453','98371625','98371645','98371654','98372516','98372546','98372564','98374615','98374625','98374652','98375216','98375246','98375264','98376514','98376524','98376542','98471625','98471635','98471653','98472615','98472635','98472653','98473615','98473625','98473652','98475316','98475326','98475362','98476125','98476135','98476153','98521736','98521746','98521764','98523716','98523746','98523764','98524716','98524736','98524763','98526714','98526734','98526743','98527614','98527634','98527643','98671425','98671435','98671453','98672415','98672435','98672453','98673514','98673524','98673542','98674125','98674135','98674153','98675314','98675324','98675342','98761325','98761345','98761354','98762315','98762345','98762354','98763124','98763142','98763154','98764315','98764325','98764352','98765413','98765423','98765432'];
    
    this.anticpu2 = ['2134859','2134869','2134879','2134896','2135849','2135869','2135879','2135897','2136948','2136958','2136978','2136984','2137948','2137958','2137968','2137985','2138457','2138469','2138475','2138496','2139648','2139658','2139678','2139684','2314759','2314768','2314786','2314798','2315849','2315869','2315879','2315897','2316847','2316859','2316874','2316897','2317459','2317468','2317486','2317498','2318647','2318659','2318674','2318695','2319847','2319857','2319867','2319874','2461935','2461958','2461978','2461985','2463915','2463951','2463978','2463987','2465813','2465831','2465879','2465897','2467918','2467938','2467958','2467985','2468519','2468537','2468573','2468591','2469718','2469731','2469758','2469785','2581349','2581369','2581379','2581397','2583149','2583169','2583179','2583197','2584913','2584931','2584967','2584976','2586913','2586931','2586947','2586974','2587916','2587936','2587946','2587964','2589716','2589736','2589746','2589764','2641937','2641953','2641973','2641987','2643817','2643851','2643871','2643897','2645813','2645831','2645879','2645897','2647913','2647938','2647958','2647985','2648519','2648537','2648573','2648591','2649817','2649837','2649857','2649871','2761839','2761849','2761859','2761893','2763918','2763948','2763958','2763984','2764918','2764938','2764958','2764985','2765819','2765839','2765849','2765894','2768513','2768531','2768543','2768594','2769413','2769431','2769458','2769485','2861739','2861749','2861754','2861794','2863917','2863947','2863957','2863974','2864519','2864537','2864573','2864591','2865417','2865439','2865471','2865493','2867513','2867531','2867543','2867594','2869513','2869531','2869541','2869574','2941738','2941758','2941768','2941786','2943817','2943857','2943867','2943871','2945817','2945837','2945867','2945876','2946817','2946837','2946857','2946871','2947613','2947631','2947658','2947685','2948613','2948631','2948653','2948675'];
    
    this.anticpu4 = ['4172639','4172659','4172689','4172698','4173928','4173956','4173965','4173986','4175629','4175639','4175689','4175698','4176235','4176253','4176289','4176298','4178926','4178936','4178956','4178962','4179826','4179836','4179856','4179862','4281937','4281956','4281965','4281975','4283917','4283956','4283965','4283976','4285617','4285639','4285671','4285693','4286519','4286537','4286573','4286591','4287915','4287936','4287951','4287963','4289317','4289356','4289365','4289371','4381729','4381756','4381765','4381796','4382917','4382956','4382965','4382976','4385619','4385629','4385679','4385692','4386517','4386527','4386571','4386597','4387916','4387926','4387956','4387962','4389716','4389725','4389752','4389765','4561729','4561739','4561789','4561798','4562917','4562938','4562971','4562987','4563918','4563928','4563978','4563987','4567129','4567139','4567189','4567198','4568917','4568927','4568937','4568971','4569318','4569328','4569378','4569387','4681329','4681352','4681379','4681397','4682519','4682537','4682573','4682591','4683517','4683527','4683571','4683597','4685213','4685231','4685279','4685297','4687913','4687923','4687932','4687953','4689712','4689725','4689735','4689752','4712359','4712368','4712386','4712398','4713259','4713268','4713286','4713298','4715629','4715639','4715689','4715698','4716823','4716832','4716859','4716895','4718623','4718632','4718659','4718695','4719623','4719632','4719658','4719685','4821937','4821957','4821967','4821975','4823917','4823956','4823967','4823976','4825617','4825639','4825671','4825693','4826519','4826537','4826573','4826591','4827613','4827631','4827651','4827695','4829613','4829631','4829653','4829675','4921738','4921758','4921768','4921786','4923817','4923857','4923867','4923871','4925817','4925837','4925867','4925876','4926817','4926837','4926857','4926871','4927613','4927631','4927658','4927685','4928613','4928631','4928653','4928675'];
    
    this.anticpu6 = ['6182739','6182745','6182754','6182794','6183927','6183945','6183954','6183975','6184529','6184539','6184579','6184593','6185427','6185439','6185472','6185497','6187925','6187935','6187945','6187952','6189724','6189734','6189743','6189754','6281739','6281745','6281754','6281794','6283917','6283945','6283954','6283974','6284519','6284537','6284573','6284591','6285417','6285439','6285471','6285493','6287139','6287145','6287154','6287193','6289714','6289735','6289741','6289753','6391827','6391845','6391854','6391875','6392418','6392458','6392478','6392487','6394215','6394251','6394278','6394287','6395418','6395428','6395478','6395487','6397815','6397824','6397842','6397854','6398715','6398724','6398742','6398754','6481529','6481539','6481579','6481593','6482519','6482537','6482573','6482591','6483127','6483152','6483179','6483197','6485213','6485231','6485279','6485297','6487915','6487925','6487932','6487952','6489713','6489721','6489731','6489753','6541729','6541739','6541789','6541798','6542917','6542938','6542971','6542987','6543918','6543928','6543978','6543987','6547129','6547139','6547189','6547198','6548917','6548927','6548937','6548971','6549318','6549328','6549378','6549387','6721839','6721849','6721859','6721893','6723918','6723948','6723958','6723984','6724918','6724938','6724958','6724985','6725819','6725839','6725849','6725894','6728513','6728531','6728543','6728594','6729413','6729431','6729458','6729485','6821739','6821749','6821754','6821794','6823917','6823947','6823957','6823974','6824519','6824537','6824573','6824591','6825417','6825439','6825471','6825493','6827513','6827531','6827543','6827594','6829513','6829531','6829541','6829574','6931248','6931258','6931278','6931284','6932148','6932158','6932178','6932184','6934812','6934821','6934857','6934875','6935418','6935428','6935478','6935487','6937512','6937521','6937548','6937584','6938412','6938421','6938457','6938475'];
    
    this.anticpu8 = ['8162739','8162745','8162754','8162794','8163927','8163945','8163954','8163975','8164529','8164539','8164579','8164593','8165427','8165439','8165472','8165497','8167925','8167935','8167945','8167952','8169724','8169734','8169743','8169754','8261739','8261745','8261754','8261794','8263917','8263945','8263954','8263974','8264519','8264537','8264573','8264591','8265417','8265439','8265471','8265493','8267139','8267145','8267154','8267193','8269714','8269735','8269741','8269753','8341729','8341756','8341765','8341796','8342917','8342956','8342965','8342976','8345619','8345629','8345679','8345692','8346517','8346527','8346571','8346597','8347916','8347926','8347956','8347962','8349716','8349725','8349752','8349765','8461529','8461539','8461579','8461593','8462519','8462537','8462573','8462591','8463127','8463152','8463179','8463197','8465213','8465231','8465279','8465297','8467915','8467925','8467932','8467952','8469713','8469721','8469731','8469753','8521349','8521369','8521379','8521397','8523149','8523169','8523179','8523197','8524913','8524931','8524967','8524976','8526913','8526931','8526947','8526974','8527916','8527936','8527946','8527964','8529716','8529736','8529746','8529764','8641329','8641352','8641379','8641397','8642519','8642537','8642573','8642591','8643517','8643527','8643571','8643597','8645213','8645231','8645279','8645297','8647913','8647923','8647932','8647953','8649712','8649725','8649735','8649752','8791625','8791635','8791645','8791652','8792415','8792436','8792451','8792463','8793615','8793624','8793642','8793654','8794216','8794236','8794256','8794263','8795216','8795236','8795246','8795264','8796315','8796324','8796342','8796354','8971426','8971436','8971456','8971462','8972614','8972635','8972641','8972653','8973514','8973526','8973541','8973564','8974126','8974136','8974156','8974162','8975216','8975236','8975246','8975264','8976214','8976235','8976241','8976254'];
    
    this.arr = [];
    
    this.startgame = function($scope){
         $scope.randomnumber = Math.floor(Math.random() * (2));
         console.log('random number = ' + $scope.randomnumber);
         $scope.game = 1;
         $scope.number = 1;
         $scope.computer = 0;
         $scope.you = 0;
         $scope.turn = $scope.randomnumber;
         $scope.arr = [];
         $scope.chararr = ['','','','','','','','',''];
         $scope.colorarr = [0,0,0,0,0,0,0,0,0];
         $scope.moves = 0;
         $scope.gameOn = 1;
         $scope.startTime();
        if(!$scope.randomnumber){  // now first chance is of cpu for anti so self.arr is defined
         
            var x = Math.floor(Math.random() * (4))*2 + 2;
            console.log('random x = ' + x);
              if( x === 2)
                    self.arr = self.anticpu2;
                else if(x === 4)
                    self.arr = self.anticpu4;
                else if(x === 6)
                    self.arr = self.anticpu6;
                else if(x === 8)
                    self.arr = self.anticpu8;
            
            console.log('start is calling cpu play');    
            self.play($scope);
        }
    };
    
    
    this.reinitialise = function($scope){
        
        if($scope.game)
         $scope.game = 0;
        else
          $scope.game = 1;
        
         $scope.number++;
        
        if($scope.randomnumber){
        
            if($scope.number === 3 || $scope.number === 4 )
               $scope.turn = 1;
            else
               $scope.turn = 0;
        }
        
        else{
            
            if($scope.number === 3 || $scope.number === 4 )
               $scope.turn = 0;
            else
               $scope.turn = 1;     
        }
            
         $scope.arr = [];
         $scope.chararr = ['','','','','','','','',''];
         $scope.colorarr = [0,0,0,0,0,0,0,0,0];
         $scope.moves = 0;
         $scope.gameOn = 1;
         $scope.startTime();
        
if(!$scope.turn ){
                
        if(($scope.number === 5  || $scope.number === 3)){  // we have anti cpu at 5(1) and 3(0) random
                var x = Math.floor(Math.random() * (4))*2 + 2;
            console.log('random x = ' + x);
              if( x === 2)
                    self.arr = self.anticpu2;
                else if(x === 4)
                    self.arr = self.anticpu4;
                else if(x === 6)
                    self.arr = self.anticpu6;
                else if(x === 8)
                    self.arr = self.anticpu8;
        }
            console.log('reintialise is calling cpu play');    
            self.play($scope);
            }
    };
    
    this.nextMove = function($scope){
    
        if($scope.randomnumber){
            if($scope.number === 1 || $scope.number=== 3 ) //anti you first
                self.arr = self.antiyou;
            else if($scope.number === 4)
                self.arr = self.noryou;
            else if($scope.number === 2)
                self.arr = self.norcpu; 
        }
        
        else{
            if($scope.number === 2 )
            self.arr = self.noryou;
            else if($scope.number === 5)
                self.arr = self.antiyou;
            else if($scope.number === 4)
                self.arr = self.norcpu;   
        }
        
        if($scope.moves === 0 ){
           // console.log(self.arr);
            console.log('first move for cpu = ' + self.arr[0][0]);
            return self.arr[0][0] - 1;
        }
        
        else{
            var j,i,arr = [];
            
            for(i in $scope.arr)
                arr[i] = $scope.arr[i] + 1;
            
            if($scope.moves === 1)
            for(i in self.arr){
                if(arr[0] == self.arr[i][0]){
                   console.log('cpu 2nd move = ' + self.arr[i][1]);
                    return self.arr[i][1] - 1;
                }
            }
    
            
            else if($scope.moves === 2)
             for(i in self.arr){
                if(arr[0] == self.arr[i][0] && arr[1] == self.arr[i][1]){
                   console.log('cpu 3rd move = ' + self.arr[i][2]);
                    return self.arr[i][2] - 1;
                }
            }
                
              else if($scope.moves === 3)
             for(i in self.arr){
                if(arr[0] == self.arr[i][0] && arr[1] == self.arr[i][1] && arr[2] == self.arr[i][2] ){
                   console.log('cpu 4th move = ' + self.arr[i][3]);
                    return self.arr[i][3] - 1;
                }
            } 
            
             else if($scope.moves === 4)
             for(i in self.arr){
                if(arr[0] == self.arr[i][0] && arr[1] == self.arr[i][1] && arr[2] == self.arr[i][2] && arr[3] == self.arr[i][3]){
                   console.log('cpu 5th move = ' + self.arr[i][4]);
                    return self.arr[i][4] - 1;
                }
            }
             
             else if($scope.moves === 5)
             for(i in self.arr){
                if(arr[0] == self.arr[i][0] && arr[1] == self.arr[i][1] && arr[2] == self.arr[i][2] && arr[3] == self.arr[i][3] && arr[4] == self.arr[i][4]){
                   console.log('cpu 6th move = ' + self.arr[i][5]);
                    return self.arr[i][5] - 1;
                }
            }
            
             else if($scope.moves === 6)
             for(i in self.arr){
                if(arr[0] == self.arr[i][0] && arr[1] == self.arr[i][1] && arr[2] == self.arr[i][2] && arr[3] == self.arr[i][3] && arr[4] == self.arr[i][4] && arr[5] == self.arr[i][5]){
                   console.log('cpu 7th move = ' + self.arr[i][6]);
                    return self.arr[i][6] - 1;
                }
            }
            
             else if($scope.moves === 7)
             for(i in self.arr){
                if(arr[0] == self.arr[i][0] && arr[1] == self.arr[i][1] && arr[2] == self.arr[i][2] && arr[3] == self.arr[i][3] && arr[4] == self.arr[i][4] && arr[5] == self.arr[i][5] && arr[6] == self.arr[i][6] ){
                   console.log('cpu 8th move = ' + self.arr[i][7]);
                    return self.arr[i][7] - 1;
                }
            }
            
             else if($scope.moves === 8){
                 for(i=0; i<9;i++)
                     if($scope.arr.indexOf(i) < 0){
                   console.log('cpu 9th move = ' + i);
                    return i;
                     }
                }
            
        }
        
    };
    
    this.play = function($scope){
        console.log('cpu play is called');
        
        var i = self.nextMove($scope);
        
           if($scope.randomnumber)
               $scope.chararr[i] = 'O';
                else
               $scope.chararr[i] = 'X';
        
         $scope.turn = 1;
        
        $scope.moves++;
        
        $scope.arr.push(i);
        
        $scope.checkgame();
    };
    
});